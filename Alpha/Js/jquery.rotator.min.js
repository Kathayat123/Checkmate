(function (c) { c.fn.Rotator = function (p) { function k(a) { a && a.stopPropagation(); d++; d >= f.length && (d -= f.length); l(d) } function q(a) { a.stopPropagation(); d--; 0 > d && (d += f.length); l(d) } function r() { clearInterval(g.data("interval")); s = setInterval(function () { k() }, b.slideShowDelay); g.data("interval", s) } function t(a) { a.stopPropagation(); j = i.width(); i.css("height", m * j / n); e && e.css("top", 0.5 * (m * j / n) - 36) } function l(a) { clearInterval(g.data("interval")); g.css({ transform: "rotate(" + -a * b.angle + "deg)", "-webkit-transition": "-webkit-transform " + b.duration + "ms " + b.easeType, "-moz-transition": "-moz-transform " + b.duration + "ms " + b.easeType, "-o-transition": "-o-transform " + b.duration + "ms " + b.easeType, "-ms-transition": "-ms-transform " + b.duration + "ms " + b.easeType, transition: "transform " + b.duration + "ms " + b.easeType }); h && (h.css({ "z-index": a, transition: "opacity " + b.duration + "ms " + b.easeType }).animate({ opacity: 0 }, 300), h.find(".caption").children().each(function () { c(this).stop(!0, !0).animate({ opacity: 0 }, 100) }), h.find(".quote").children().each(function () { c(this).stop(!0, !0).animate({ opacity: 0 }, 100) })); f[a].css({ "z-index": 100 + a }).animate({ opacity: 1 }, 300, function () { b.slideShow && r() }); f[a].find(".caption").children().each(function (a) { c(this).delay(400 + 300 * a).animate({ opacity: 1 }, 400) }); f[a].find(".quote").children().each(function (a) { c(this).delay(400 + 300 * a).animate({ opacity: 1 }, 400) }); h = f[a] } var b = { itemClass: ".rotatorItem", angle: 60, width: 960, height: 400, duration: 600, easeType: "ease", showArrow: !0, autoHideArrow: !0, slideShow: !0, slideShowDelay: 5E3, responsive: !0 }; p && c.extend(b, p); var g = this, f = [], d = 0, i = g.parent(), e; b.showArrow && (e = c('<div class="arrowButton"><div class="prevArrow"></div><div class="nextArrow"></div></div>'), i.append(e), c(".nextArrow", e).bind("click", function (a) { k(a) }), c(".prevArrow", e).bind("click", function (a) { q(a) })); i.on("mouseover", function (a) { a.preventDefault(); b.slideShow && clearInterval(g.data("interval")); b.autoHideArrow && e && e.stop(!0, !0).animate({ opacity: 1 }, 400) }).on("mouseleave", function (a) { a.preventDefault(); b.slideShow && r(); b.autoHideArrow && e && e.stop(!0, !0).animate({ opacity: 0 }, 400) }); c(document).keydown(function (a) { var b = a.keyCode || a.which; 39 === b ? k(a) : 37 === b && q(a) }); g.find(b.itemClass); g.find(b.itemClass).each(function (a) { f[a] = c(this); c(this).click(function (a) { d = c.inArray(c(this), f); a.stopPropagation() }); c(this).css({ position: "absolute", top: 0, left: 0, "z-index": 100 - a, transform: "rotate(" + b.angle * a + "deg)", "-webkit-transform": "rotate(" + b.angle * a + "deg)", "-moz-transform": "rotate(" + b.angle * a + "deg)", "-o-transform": "rotate(" + b.angle * a + "deg)", "-ms-transform": "rotate(" + b.angle * a + "deg)", width: b.width, height: b.height }); c(this).css("opacity", 0); 0 == a && (g.css("-webkit-backface-visibility", "hidden"), h = c(this)); a++ }); var s, n = b.width, m = b.height, j; b.responsive && (i.css("height", m * j / n), c(window).load(t), c(window).resize(t)); l(d); var h; return this } })(jQuery);